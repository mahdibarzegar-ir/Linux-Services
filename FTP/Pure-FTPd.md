
### **. ูุตุจ ู ุงููโุณุงุฒ Pure-FTPd**  
Pure-FTPd ฺฉ ุณุฑูุณ FTP ุงูู ู ุณุจฺฉ ุงุณุช ฺฉู ูโุชูุงูุฏ ุจุง ุชูุธูุงุช ููุงุณุจุ ุงููุช ุจุดุชุฑ ุจุฑุง ุงูุชูุงู ุฏุงุฏูโูุง ูุฑุงูู ฺฉูุฏ.  

---

### **ฑ. ูุตุจ Pure-FTPd**  
```bash
sudo apt install pure-ftpd
```
๐น ุงู ุฏุณุชูุฑ Pure-FTPd ุฑุง ูุตุจ ูโฺฉูุฏ.  

---

### **ฒ. ุงุฌุงุฏ ฺฏุฑูู ู ฺฉุงุฑุจุฑ FTP**  
```bash
sudo groupadd ftpgroup
sudo useradd -g ftpgroup -d /dev/null -s /etc ftpuser
```
๐น `ftpgroup`: ฺฏุฑูู ุจุฑุง ูุฏุฑุช ฺฉุงุฑุจุฑุงู FTP ุงุฌุงุฏ ูโฺฉูุฏ.  
๐น `ftpuser`: ฺฉุงุฑุจุฑ ุณุณุชู ุงุณุช ฺฉู ุจุฏูู ุดู ู ุฏุงุฑฺฉุชูุฑ ุฎุงูฺฏ ุจุฑุง ุงูุฒุงุด ุงููุช ุงุฌุงุฏ ูโุดูุฏ.  

---

### **ณ. ุงุฌุงุฏ ฺฉุงุฑุจุฑ ูุฌุงุฒ ุจุฑุง FTP**  
```bash
sudo pure-pw useradd mahdi -u ftpuser -d /ftphome
```
๐น `mahdi` ฺฉ ฺฉุงุฑุจุฑ ูุฌุงุฒ ุงุณุช ฺฉู ุจุง `ftpuser` ูุฑุชุจุท ุดุฏู ู ูุณุฑ `/ftphome` ุฑุง ุจูโุนููุงู ุฏุงุฑฺฉุชูุฑ ุฎุงูฺฏ ุฎูุฏ ุฏุงุฑุฏ.  
๐น ูพุณ ุงุฒ ุงุฌุฑุง ุงู ุฏุณุชูุฑุ ุณุณุชู ุงุฒ ุดูุง ุฑูุฒ ุนุจูุฑ ุฑุง ุฏุฑุฎูุงุณุช ูโฺฉูุฏ.  

---

### **ด. ุจูโุฑูุฒุฑุณุงู ูพุงฺฏุงู ุฏุงุฏู ฺฉุงุฑุจุฑุงู Pure-FTPd**  
```bash
sudo pure-pw mkdb
```
๐น ุงู ุฏุณุชูุฑ ุงุทูุงุนุงุช ฺฉุงุฑุจุฑุงู ูุฌุงุฒ ุฑุง ุฏุฑ ูพุงฺฏุงู ุฏุงุฏู Pure-FTPd ุฐุฎุฑู ู ุจูโุฑูุฒุฑุณุงู ูโฺฉูุฏ.  

---

### **ต. ุชูุธู ุงุญุฑุงุฒ ููุช ฺฉุงุฑุจุฑุงู FTP**  
```bash
cd /etc/pure-ftpd/auth/
ls
sudo ln -s ../conf/PureDB 60pdb
```
๐น ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ุณุฑูุฑ ุงุฒ ูพุงฺฏุงู ุฏุงุฏู `PureDB` ุจุฑุง ุงุญุฑุงุฒ ููุช ฺฉุงุฑุจุฑุงู ุงุณุชูุงุฏู ฺฉูุฏ.  

---

### **ถ. ุงุฌุงุฏ ุฏุงุฑฺฉุชูุฑ FTP ู ุชูุธู ูุงูฺฉุช ุขู**  
```bash
sudo mkdir -p /ftphome
sudo chown -R ftpuser:ftpgroup /ftphome/
```
๐น `/ftphome` ุจูโุนููุงู ูุณุฑ ุฐุฎุฑูโุณุงุฒ ูุงูโูุง FTP ุงุฌุงุฏ ู ูุงูฺฉุช ุขู ุจู ฺฉุงุฑุจุฑ ู ฺฏุฑูู `ftpuser:ftpgroup` ุงุฎุชุตุงุต ุฏุงุฏู ูโุดูุฏ.  

---

### **ท. ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ุณุฑูุณ ู ุจุฑุฑุณ ูุถุนุช ุขู**  
```bash
sudo systemctl restart pure-ftpd
sudo systemctl status pure-ftpd
```
๐น ุณุฑูุณ Pure-FTPd ุฑุง ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ฺฉุฑุฏู ู ูุถุนุช ุขู ุฑุง ุจุฑุฑุณ ูโฺฉูู.  

---

## **ุฑุงูฺฉุงุฑูุง ุงููุช ูพุดููุงุฏ**  

 **ูุนุงูโุณุงุฒ TLS ุจุฑุง ุฑูุฒูฺฏุงุฑ ุงุฑุชุจุงุทุงุช:**  
```bash
sudo apt install openssl
sudo mkdir -p /etc/ssl/private
sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/ssl/private/pure-ftpd.pem -out /etc/ssl/private/pure-ftpd.pem
sudo chmod 600 /etc/ssl/private/pure-ftpd.pem
```
๐น ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ุงุฑุชุจุงุทุงุช FTP ุงุฒ ุทุฑู SSL/TLS ุฑูุฒฺฏุฐุงุฑ ุดูุฏ.  

 **ุบุฑูุนุงู ฺฉุฑุฏู ูุฑูุฏ ฺฉุงุฑุจุฑุงู ูุงุดูุงุณ:**  
```bash
echo "NoAnonymous yes" | sudo tee -a /etc/pure-ftpd/conf/NoAnonymous
```
๐น ุงุฒ ูุฑูุฏ ฺฉุงุฑุจุฑุงู ูุงุดูุงุณ ุฌููฺฏุฑ ูโฺฉูุฏ.  

 **ูุญุฏูุฏ ฺฉุฑุฏู ุฏุณุชุฑุณ ฺฉุงุฑุจุฑุงู ุจู ุฏุงุฑฺฉุชูุฑโูุง ุฎูุฏุดุงู:**  
```bash
echo "ChrootEveryone yes" | sudo tee -a /etc/pure-ftpd/conf/ChrootEveryone
```
๐น ฺฉุงุฑุจุฑุงู ููุท ุจู ุฏุงุฑฺฉุชูุฑ ุฎูุฏุดุงู ุฏุณุชุฑุณ ุฎูุงููุฏ ุฏุงุดุช.  

 **ุชูุธู ุชุนุฏุงุฏ ุงุชุตุงูุงุช ููโุฒูุงู ู ูุญุฏูุฏุช ูพููุง ุจุงูุฏ:**  
```bash
echo "MaxClientsNumber 10" | sudo tee -a /etc/pure-ftpd/conf/MaxClientsNumber
echo "LimitRecursion 2000 8" | sudo tee -a /etc/pure-ftpd/conf/LimitRecursion
```
๐น ุชุนุฏุงุฏ ุงุชุตุงูุงุช ููโุฒูุงู ู ุญุฏุงฺฉุซุฑ ุณุทุญ ูพูุดูโูุง ูุฌุงุฒ ุฑุง ูุญุฏูุฏ ูโฺฉูุฏ.  

 **ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ุณุฑูุณ ุจุฑุง ุงุนูุงู ุชุบุฑุงุช:**  
```bash
sudo systemctl restart pure-ftpd
```
๐น ูพุณ ุงุฒ ุงูุฌุงู ุชุบุฑุงุช ุงููุชุ ุณุฑูุณ ูุฌุฏุฏุงู ุฑุงูโุงูุฏุงุฒ ูโุดูุฏ.  

---

---
---

# ฺฉ ููุฑุฏ troubleshooting 

### ฑ. ุจุฑุฑุณ ูุฌูุฏ ฺฉุงุฑุจุฑ **mahdi**  
ุงุจุชุฏุง ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุขุง ุงู ฺฉุงุฑุจุฑ ูุจูุงู ุงุฌุงุฏ ุดุฏู ุงุณุช ุง ุฎุฑ:  
```bash
sudo pure-pw list
```
ุงฺฏุฑ ูุงู ฺฉุงุฑุจุฑ ุฏุฑ ูุณุช ูุฌูุฏ ุฏุงุฑุฏุ ูโุชูุงูุฏ ุงู ุฑุง ุญุฐู ฺฉุฑุฏู ู ุฏูุจุงุฑู ุงุฌุงุฏ ฺฉูุฏ:  
```bash
sudo pure-pw userdel mahdi
```

### ฒ. ุจุฑุฑุณ ุฏุณุชุฑุณ ุจู ูุงู **pureftpd.passwd.tmp**  
ููฺฉู ุงุณุช ุจุฑูุงูู ูุชูุงูุฏ ุงู ูุงู ุฑุง ุงุฌุงุฏ ุง ุชุบุฑ ุฏูุฏ. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ูุณุฑ ูุฑุจูุทู ูุฌูุฏ ุฏุงุดุชู ู ุฏุณุชุฑุณ ูุงุฒู ุฑุง ุฏุงุดุชู ุจุงุดุฏ:  
```bash
ls -l /etc/pure-ftpd/
```
ุงฺฏุฑ ูุงู ุง ูุณุฑ ูุฌูุฏ ูุฏุงุฑุฏุ ูโุชูุงูุฏ ุขู ุฑุง ุงุฌุงุฏ ฺฉูุฏ:  
```bash
sudo touch /etc/pure-ftpd/pureftpd.passwd.tmp
sudo chmod 600 /etc/pure-ftpd/pureftpd.passwd.tmp
```

### ณ. ุงุฌุฑุง ุฏุณุชูุฑ ุจุง ฺฉุงุฑุจุฑ **root**  
ุฏุณุชูุฑ ุฎูุฏ ุฑุง ุจุฏูู `sudo` ู ูุณุชููุงู ุจูโุนููุงู ฺฉุงุฑุจุฑ `root` ุงุฌุฑุง ฺฉูุฏ:  
```bash
pure-pw useradd mahdi -u ftpuser -d /ftphome
```
ุงฺฏุฑ ููฺูุงู ูุดฺฉู ูุฌูุฏ ุฏุงุดุชุ ุจุฑุฑุณ ฺฉูุฏ ฺฉู ฺฉุงุฑุจุฑ `root` ูุณุชุฏ:  
```bash
whoami
```

### ด. ุจุฑุฑุณ ุณุฑูุณ Pure-FTPd  
ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ุณุฑูุณ Pure-FTPd ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช:  
```bash
sudo systemctl status pure-ftpd
```
ุงฺฏุฑ ุบุฑูุนุงู ุงุณุชุ ุขู ุฑุง ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ:  
```bash
sudo systemctl start pure-ftpd
```

### ต. ุจุฑุฑุณ ูุงฺฏโูุง Pure-FTPd  
ุจุฑุง ุฌุฒุฆุงุช ุจุดุชุฑ ุงุฒ ูุงฺฏโูุง ุณุณุชู ุงุณุชูุงุฏู ฺฉูุฏ:  
```bash
sudo journalctl -xe | grep pure-ftpd
```
ููฺูู ูโุชูุงูุฏ ูุงฺฏ FTP ุฑุง ุจุฑุฑุณ ฺฉูุฏ:  
```bash
sudo cat /var/log/syslog | grep pure-ftpd
```